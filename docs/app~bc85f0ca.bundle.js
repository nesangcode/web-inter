/*! For license information please see app~bc85f0ca.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkapp_starter_project_with_webpack=self.webpackChunkapp_starter_project_with_webpack||[]).push([[520],{602:(t,e,n)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function a(){a=function(){return e};var t,e={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},c="function"==typeof Symbol?Symbol:{},s=c.iterator||"@@iterator",u=c.asyncIterator||"@@asyncIterator",l=c.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var a=e&&e.prototype instanceof b?e:b,o=Object.create(a.prototype),c=new I(r||[]);return i(o,"_invoke",{value:S(t,n,c)}),o}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var v="suspendedStart",p="suspendedYield",y="executing",m="completed",g={};function b(){}function w(){}function L(){}var E={};f(E,s,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(A([])));x&&x!==n&&o.call(x,s)&&(E=x);var _=L.prototype=b.prototype=Object.create(E);function T(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function n(a,i,c,s){var u=h(t[a],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==r(f)&&o.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,c,s)}),(function(t){n("throw",t,c,s)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return n("throw",t,c,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,a){n(t,r,e,a)}))}return a=a?a.then(o,o):o()}})}function S(e,n,r){var a=v;return function(o,i){if(a===y)throw Error("Generator is already running");if(a===m){if("throw"===o)throw i;return{value:t,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var s=B(c,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===v)throw a=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=y;var u=h(e,n,r);if("normal"===u.type){if(a=r.done?m:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=m,r.method="throw",r.arg=u.arg)}}}function B(e,n){var r=n.method,a=e.iterator[r];if(a===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,B(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=h(a,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function A(e){if(e||""===e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function n(){for(;++a<e.length;)if(o.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(r(e)+" is not iterable")}return w.prototype=L,i(_,"constructor",{value:L,configurable:!0}),i(L,"constructor",{value:w,configurable:!0}),w.displayName=f(L,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,L):(t.__proto__=L,f(t,l,"GeneratorFunction")),t.prototype=Object.create(_),t},e.awrap=function(t){return{__await:t}},T(j.prototype),f(j.prototype,u,(function(){return this})),e.AsyncIterator=j,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new j(d(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},T(_),f(_,l,"Generator"),f(_,s,(function(){return this})),f(_,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=A,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,a){return c.type="throw",c.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function o(t,e,n,r,a,o,i){try{var c=t[o](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,a)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function c(t){var e=function(t){if("object"!=r(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}n.d(e,{A:()=>s});const s=function(){return t=function t(e){var n=e.navigationDrawer,r=e.drawerButton,a=e.content;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._navigationDrawer=n,this._drawerButton=r,this._content=a,this._setupDrawer()},e=[{key:"_setupDrawer",value:function(){var t=this;this._drawerButton.addEventListener("click",(function(){t._navigationDrawer.classList.contains("open")?(t._navigationDrawer.classList.remove("open"),t._drawerButton.setAttribute("aria-expanded","false"),t._drawerButton.setAttribute("aria-label","Open navigation menu")):(t._navigationDrawer.classList.add("open"),t._drawerButton.setAttribute("aria-expanded","true"),t._drawerButton.setAttribute("aria-label","Close navigation menu"))})),document.body.addEventListener("click",(function(e){t._navigationDrawer.contains(e.target)||t._drawerButton.contains(e.target)||(t._navigationDrawer.classList.remove("open"),t._drawerButton.setAttribute("aria-expanded","false"),t._drawerButton.setAttribute("aria-label","Open navigation menu"))})),this._navigationDrawer.addEventListener("click",(function(e){"A"===e.target.tagName&&(t._navigationDrawer.classList.remove("open"),t._drawerButton.setAttribute("aria-expanded","false"),t._drawerButton.setAttribute("aria-label","Open navigation menu"))})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&t._navigationDrawer.classList.contains("open")&&(t._navigationDrawer.classList.remove("open"),t._drawerButton.setAttribute("aria-expanded","false"),t._drawerButton.setAttribute("aria-label","Open navigation menu"),t._drawerButton.focus())}))}},{key:"setupNavigationEvents",value:function(t){document.addEventListener("click",(function(e){"nav-logout-btn"===e.target.id&&(e.preventDefault(),t())}))}},{key:"navigateToHome",value:function(){window.location.hash="#/"}},{key:"updateNavigation",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=document.getElementById("nav-list");if(r)if(r.querySelectorAll(".auth-nav-item").forEach((function(t){return t.remove()})),t){if(e&&e.name){var a=document.createElement("li");a.className="auth-nav-item user-menu",a.innerHTML='<span class="user-greeting">Halo, '.concat(e.name,"!</span>"),r.appendChild(a)}if(n){var o=document.createElement("li");o.className="auth-nav-item offline-indicator",o.innerHTML='<span class="offline-status">🔴 Mode Offline</span>',r.appendChild(o)}if(n){var i=document.createElement("li");i.className="auth-nav-item",i.innerHTML='<a href="#/favorites">📖 Favorit</a>',r.appendChild(i)}else{var c=document.createElement("li");c.className="auth-nav-item",c.innerHTML='<a href="#/add-story">Bagikan Story</a>',r.appendChild(c);var s=document.createElement("li");s.className="auth-nav-item",s.innerHTML='<a href="#/favorites">📖 Favorit</a>',r.appendChild(s);var u=document.createElement("li");u.className="auth-nav-item",u.innerHTML='<a href="#/notifications">🔔 Notifikasi</a>',r.appendChild(u);var l=document.createElement("li");l.className="auth-nav-item",l.innerHTML='<button id="nav-logout-btn" class="nav-logout-btn" aria-label="Logout dari akun">Logout</button>',r.appendChild(l)}}else if(n){var f=document.createElement("li");f.className="auth-nav-item offline-message",f.innerHTML='<span class="offline-status">🔴 Login diperlukan saat online</span>',r.appendChild(f)}else{var d=document.createElement("li");d.className="auth-nav-item",d.innerHTML='<a href="#/login">Login</a>',r.appendChild(d);var h=document.createElement("li");h.className="auth-nav-item",h.innerHTML='<a href="#/register">Daftar</a>',r.appendChild(h)}}},{key:"content",get:function(){return this._content}},{key:"hideAppLoading",value:function(){var t=document.getElementById("app-loading");t&&(t.style.display="none")}},{key:"setContent",value:(n=a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._content.innerHTML=e;case 1:case"end":return t.stop()}}),t,this)})),r=function(){var t=this,e=arguments;return new Promise((function(r,a){var i=n.apply(t,e);function c(t){o(i,r,a,c,s,"next",t)}function s(t){o(i,r,a,c,s,"throw",t)}c(void 0)}))},function(t){return r.apply(this,arguments)})},{key:"showNotFoundError",value:function(){this._content.innerHTML='\n      <div class="container">\n        <section class="error-container" aria-labelledby="error-title">\n          <div class="error-illustration">\n            <div class="error-code">404</div>\n          </div>\n          <h1 id="error-title">Halaman Tidak Ditemukan</h1>\n          <p class="error-description">\n            Maaf, halaman yang Anda cari tidak dapat ditemukan. \n            Mungkin halaman tersebut telah dipindahkan, dihapus, atau URL yang Anda masukkan salah.\n          </p>\n          <nav class="error-actions" aria-label="Aksi untuk mengatasi error">\n            <a href="#/" class="btn btn-primary">🏠 Kembali ke Beranda</a>\n            <button onclick="history.back()" class="btn btn-secondary">⬅️ Halaman Sebelumnya</button>\n          </nav>\n        </section>\n      </div>\n      <style>\n        .error-container {\n          text-align: center;\n          padding: 3rem 1rem;\n          max-width: 600px;\n          margin: 0 auto;\n        }\n        .error-illustration {\n          margin-bottom: 2rem;\n        }\n        .error-code {\n          font-size: 6rem;\n          font-weight: bold;\n          color: #1976d2;\n          text-shadow: 2px 2px 4px rgba(0,0,0,0.1);\n          animation: bounce 2s infinite;\n        }\n        .error-description {\n          font-size: 1.1rem;\n          line-height: 1.6;\n          margin-bottom: 2rem;\n          color: #666;\n        }\n        .error-actions {\n          display: flex;\n          gap: 1rem;\n          justify-content: center;\n          flex-wrap: wrap;\n        }\n        .btn-secondary {\n          background-color: #6c757d;\n          color: white;\n          border: none;\n          padding: 0.75rem 1.5rem;\n          border-radius: 0.375rem;\n          text-decoration: none;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.3s ease;\n        }\n        .btn-secondary:hover {\n          background-color: #5a6268;\n          transform: translateY(-1px);\n        }\n        @keyframes bounce {\n          0%, 20%, 50%, 80%, 100% { transform: translateY(0); }\n          40% { transform: translateY(-10px); }\n          60% { transform: translateY(-5px); }\n        }\n        @media (max-width: 768px) {\n          .error-code { font-size: 4rem; }\n          .error-actions { flex-direction: column; align-items: center; }\n        }\n      </style>\n    '}}],e&&i(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r}()},940:(t,e,n)=>{n.d(e,{d:()=>d});var r=n(444);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){s=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw o}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function c(){c=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var a=e&&e.prototype instanceof b?e:b,i=Object.create(a.prototype),c=new I(r||[]);return o(i,"_invoke",{value:S(t,n,c)}),i}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var v="suspendedStart",p="suspendedYield",y="executing",m="completed",g={};function b(){}function w(){}function L(){}var E={};f(E,s,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(A([])));x&&x!==n&&r.call(x,s)&&(E=x);var _=L.prototype=b.prototype=Object.create(E);function T(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function n(o,i,c,s){var u=h(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==a(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,c,s)}),(function(t){n("throw",t,c,s)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return n("throw",t,c,s)}))}s(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function a(){return new e((function(e,a){n(t,r,e,a)}))}return i=i?i.then(a,a):a()}})}function S(e,n,r){var a=v;return function(o,i){if(a===y)throw Error("Generator is already running");if(a===m){if("throw"===o)throw i;return{value:t,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var s=B(c,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===v)throw a=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=y;var u=h(e,n,r);if("normal"===u.type){if(a=r.done?m:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=m,r.method="throw",r.arg=u.arg)}}}function B(e,n){var r=n.method,a=e.iterator[r];if(a===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,B(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=h(a,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function A(e){if(e||""===e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(a(e)+" is not iterable")}return w.prototype=L,o(_,"constructor",{value:L,configurable:!0}),o(L,"constructor",{value:w,configurable:!0}),w.displayName=f(L,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,L):(t.__proto__=L,f(t,l,"GeneratorFunction")),t.prototype=Object.create(_),t},e.awrap=function(t){return{__await:t}},T(j.prototype),f(j.prototype,u,(function(){return this})),e.AsyncIterator=j,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new j(d(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},T(_),f(_,l,"Generator"),f(_,s,(function(){return this})),f(_,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=A,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return c.type="throw",c.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function s(t,e,n,r,a,o,i){try{var c=t[o](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,a)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){s(o,r,a,i,c,"next",t)}function c(t){s(o,r,a,i,c,"throw",t)}i(void 0)}))}}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f(r.key),r)}}function f(t){var e=function(t){if("object"!=a(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==a(e)?e:e+""}var d=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=null},e=[{key:"render",value:(i=u(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getHTML());case 2:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"getHTML",value:function(){return'\n      <div class="favorites-page">\n        <div class="container">\n          <div class="page-header">\n            <h1>📖 Cerita Favorit</h1>\n            <p>Koleksi cerita yang telah Anda simpan untuk dibaca offline</p>\n          </div>\n\n          <div class="favorites-controls">\n            <button id="clear-favorites-btn" class="btn btn-outline btn-danger">\n              🗑️ Hapus Semua Favorit\n            </button>\n            <div class="favorites-count">\n              <span id="favorites-count">0</span> cerita tersimpan\n            </div>\n          </div>\n\n          <div id="favorites-loading" class="loading-state" style="display: none;">\n            <div class="loading-spinner"></div>\n            <p>Memuat cerita favorit...</p>\n          </div>\n\n          <div id="favorites-empty" class="empty-state" style="display: none;">\n            <div class="empty-icon">📚</div>\n            <h3>Belum Ada Cerita Favorit</h3>\n            <p>Tambahkan cerita ke favorit untuk dapat membacanya secara offline</p>\n            <a href="#/" class="btn btn-primary">Jelajahi Cerita</a>\n          </div>\n\n          <div id="favorites-error" class="error-state" style="display: none;">\n            <div class="error-icon">⚠️</div>\n            <h3>Gagal Memuat Favorit</h3>\n            <p id="favorites-error-message">Terjadi kesalahan saat memuat cerita favorit</p>\n            <button id="retry-favorites-btn" class="btn btn-primary">Coba Lagi</button>\n          </div>\n\n          <div id="favorites-list" class="stories-grid">\n            \x3c!-- Favorites will be inserted here --\x3e\n          </div>\n        </div>\n      </div>\n    '}},{key:"afterRender",value:function(){this.container=document.querySelector(".favorites-page")}},{key:"setupEventListeners",value:function(t){document.getElementById("clear-favorites-btn").addEventListener("click",t.clearFavorites),document.getElementById("retry-favorites-btn").addEventListener("click",t.loadFavorites)}},{key:"showLoading",value:function(){document.getElementById("favorites-loading").style.display="block",document.getElementById("favorites-empty").style.display="none",document.getElementById("favorites-error").style.display="none",document.getElementById("favorites-list").style.display="none"}},{key:"hideLoading",value:function(){document.getElementById("favorites-loading").style.display="none"}},{key:"showEmpty",value:function(){this.hideLoading(),document.getElementById("favorites-empty").style.display="block",document.getElementById("favorites-error").style.display="none",document.getElementById("favorites-list").style.display="none",this.updateFavoritesCount(0)}},{key:"showError",value:function(t){this.hideLoading(),document.getElementById("favorites-error").style.display="block",document.getElementById("favorites-error-message").textContent=t,document.getElementById("favorites-empty").style.display="none",document.getElementById("favorites-list").style.display="none"}},{key:"displayFavorites",value:(a=u(c().mark((function t(e){var n=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.hideLoading(),0!==e.length){t.next=4;break}return this.showEmpty(),t.abrupt("return");case 4:return document.getElementById("favorites-error").style.display="none",document.getElementById("favorites-empty").style.display="none",document.getElementById("favorites-list").style.display="grid",document.getElementById("favorites-list").innerHTML=e.map((function(t){return n.createStoryCard(t)})).join(""),t.next=11,this.loadCachedImages(e);case 11:e.forEach((function(t){var e=document.getElementById("remove-favorite-".concat(t.id));e&&e.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),n.onRemoveFavorite(t.id)}))})),this.updateFavoritesCount(e.length);case 13:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"createStoryCard",value:function(t){var e=new Date(t.createdAt).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}),n=t.addedAt?new Date(t.addedAt).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"";return'\n      <article class="story-card favorite-card">\n        <div class="story-image">\n          <img src="'.concat(t.photoUrl,'" alt="Foto cerita ').concat(t.name,'" loading="lazy">\n          <div class="favorite-badge">⭐ Favorit</div>\n        </div>\n        <div class="story-content">\n          <h3 class="story-title">\n            <a href="#/story/').concat(t.id,'">').concat(t.name,'</a>\n          </h3>\n          <p class="story-description">').concat(t.description,'</p>\n          <div class="story-meta">\n            <span class="story-date">📅 ').concat(e,"</span>\n            ").concat(n?'<span class="added-date">💾 Disimpan '.concat(n,"</span>"):"",'\n          </div>\n          <div class="story-actions">\n            <a href="#/story/').concat(t.id,'" class="btn btn-primary btn-sm">Baca Cerita</a>\n            <button id="remove-favorite-').concat(t.id,'" class="btn btn-outline btn-danger btn-sm">\n              🗑️ Hapus\n            </button>\n          </div>\n        </div>\n      </article>\n    ')}},{key:"updateFavoritesCount",value:function(t){document.getElementById("favorites-count").textContent=t}},{key:"showSuccessMessage",value:function(t){var e=document.createElement("div");e.className="toast toast-success",e.innerHTML='\n      <div class="toast-content">\n        <span class="toast-icon">✅</span>\n        <span class="toast-message">'.concat(t,"</span>\n      </div>\n    "),document.body.appendChild(e),setTimeout((function(){return e.classList.add("show")}),100),setTimeout((function(){e.classList.remove("show"),setTimeout((function(){return document.body.removeChild(e)}),300)}),3e3)}},{key:"showErrorMessage",value:function(t){var e=document.createElement("div");e.className="toast toast-error",e.innerHTML='\n      <div class="toast-content">\n        <span class="toast-icon">❌</span>\n        <span class="toast-message">'.concat(t,"</span>\n      </div>\n    "),document.body.appendChild(e),setTimeout((function(){return e.classList.add("show")}),100),setTimeout((function(){e.classList.remove("show"),setTimeout((function(){return document.body.removeChild(e)}),300)}),3e3)}},{key:"setRemoveFavoriteHandler",value:function(t){this.onRemoveFavorite=t}},{key:"loadCachedImages",value:(n=u(c().mark((function t(e){var n,a,i,s,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=o(e),t.prev=1,n.s();case 3:if((a=n.n()).done){t.next=18;break}if(!(i=a.value).photoUrl){t.next=16;break}return t.prev=6,t.next=9,r.A.getCachedImage(i.photoUrl);case 9:(s=t.sent)&&(u=document.querySelector('img[src="'.concat(i.photoUrl,'"]')))&&(u.src=s,u.setAttribute("data-cached","true"),console.log("Using cached image for story:",i.id)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(6),console.warn("Failed to load cached image for story:",i.id,t.t0);case 16:t.next=3;break;case 18:t.next=23;break;case 20:t.prev=20,t.t1=t.catch(1),n.e(t.t1);case 23:return t.prev=23,n.f(),t.finish(23);case 26:case"end":return t.stop()}}),t,null,[[1,20,23,26],[6,13]])}))),function(t){return n.apply(this,arguments)})},{key:"navigateToHome",value:function(){window.location.hash="/"}}],e&&l(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,a,i}()}}]);
//# sourceMappingURL=app~bc85f0ca.bundle.js.map